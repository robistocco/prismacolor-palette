var fs = require('fs');

var markerType = 'pb';

// Run scraper.js code via Dev Tools in the Prismacolor website to generate the JSON object.
var jsonString = '{"PB-23":{"id":"PB-23","name":"Cream","color":"rgb(252, 255, 212)"},"PB-131":{"id":"PB-131","name":"Deco Yellow","color":"rgb(245, 245, 140)"},"PB-19":{"id":"PB-19","name":"Canary Yellow","color":"rgb(247, 247, 3)"},"PB-21":{"id":"PB-21","name":"Tulip Yellow","color":"rgb(252, 240, 89)"},"PB-17":{"id":"PB-17","name":"Sunburst Yellow","color":"rgb(250, 240, 51)"},"PB-132":{"id":"PB-132","name":"Jasmine","color":"rgb(255, 212, 115)"},"PB-18":{"id":"PB-18","name":"Yellow Ochre","color":"rgb(245, 201, 54)"},"PB-123":{"id":"PB-123","name":"Spanish Orange","color":"rgb(252, 212, 3)"},"PB-15":{"id":"PB-15","name":"Yellowed Orange","color":"rgb(252, 168, 3)"},"PB-14":{"id":"PB-14","name":"Pale Vermillion","color":"rgb(255, 107, 18)"},"PB-16":{"id":"PB-16","name":"Orange","color":"rgb(255, 140, 3)"},"PB-13":{"id":"PB-13","name":"Poppy Red","color":"rgb(255, 84, 61)"},"PB-130":{"id":"PB-130","name":"Deco Orange","color":"rgb(255, 186, 140)"},"PB-69":{"id":"PB-69","name":"Goldenrod","color":"rgb(237, 166, 112)"},"PB-93":{"id":"PB-93","name":"Burnt Ochre","color":"rgb(245, 166, 64)"},"PB-154":{"id":"PB-154","name":"Mineral Orange","color":"rgb(255, 168, 48)"},"PB-153":{"id":"PB-153","name":"Pumpkin Orange","color":"rgb(222, 83, 43)"},"PB-11":{"id":"PB-11","name":"Deco Peach","color":"rgb(255, 222, 222)"},"PB-12":{"id":"PB-12","name":"Light Peach","color":"rgb(255, 222, 212)"},"PB-122":{"id":"PB-122","name":"Salmon Pink","color":"rgb(255, 196, 184)"},"PB-170":{"id":"PB-170","name":"Peach","color":"rgb(255, 140, 140)"},"PB-78":{"id":"PB-78","name":"Brick Beige","color":"rgb(252, 222, 196)"},"PB-70":{"id":"PB-70","name":"Sand","color":"rgb(237, 196, 140)"},"PB-90":{"id":"PB-90","name":"Walnut","color":"rgb(219, 148, 133)"},"PB-65":{"id":"PB-65","name":"Sienna Brown","color":"rgb(212, 106, 114)"},"PB-150":{"id":"PB-150","name":"Mahogany Red","color":"rgb(105, 22, 91)"},"PB-61":{"id":"PB-61","name":"Dark Umber","color":"rgb(57, 23, 22)"},"PB-82":{"id":"PB-82","name":"Terra Cotta","color":"rgb(237, 107, 112)"},"PB-86":{"id":"PB-86","name":"Cherry","color":"rgb(222, 63, 114)"},"PB-6":{"id":"PB-6","name":"Carmine Red","color":"rgb(255, 87, 140)"},"PB-5":{"id":"PB-5","name":"Scarlet Lake","color":"rgb(255, 38, 112)"},"PB-4":{"id":"PB-4","name":"Crimson Red","color":"rgb(225, 2, 7)"},"PB-152":{"id":"PB-152","name":"Henna","color":"rgb(185, 24, 97)"},"PB-151":{"id":"PB-151","name":"Raspberry","color":"rgb(174, 7, 101)"},"PB-10":{"id":"PB-10","name":"Blush Pink","color":"rgb(255, 168, 212)"},"PB-73":{"id":"PB-73","name":"Flagstone Red","color":"rgb(169, 111, 184)"},"PB-169":{"id":"PB-169","name":"Tuscan Red","color":"rgb(148, 45, 123)"},"PB-1":{"id":"PB-1","name":"Process Red","color":"rgb(252, 120, 255)"},"PB-8":{"id":"PB-8","name":"Pink","color":"rgb(255, 112, 255)"},"PB-7":{"id":"PB-7","name":"Magenta","color":"rgb(255, 61, 245)"},"PB-55":{"id":"PB-55","name":"Rhodamine","color":"rgb(245, 3, 252)"},"PB-53":{"id":"PB-53","name":"Mulberry","color":"rgb(196, 13, 255)"},"PB-133":{"id":"PB-133","name":"Deco Pink","color":"rgb(255, 222, 255)"},"PB-208":{"id":"PB-208","name":"Ballet Pink ","color":"rgb(245, 189, 222)"},"PB-147":{"id":"PB-147","name":"Greyed Lavender","color":"rgb(196, 184, 255)"},"PB-171":{"id":"PB-171","name":"Lilac","color":"rgb(166, 166, 255)"},"PB-137":{"id":"PB-137","name":"Clay Rose","color":"rgb(209, 138, 255)"},"PB-168":{"id":"PB-168","name":"Dark Purple","color":"rgb(40, 0, 223)"},"PB-60":{"id":"PB-60","name":"Violet Mist","color":"rgb(184, 212, 255)"},"PB-128":{"id":"PB-128","name":"Parma Violet","color":"rgb(112, 140, 255)"},"PB-50":{"id":"PB-50","name":"Violet","color":"rgb(38, 15, 252)"},"PB-134":{"id":"PB-134","name":"Deco Blue","color":"rgb(184, 255, 245)"},"PB-48":{"id":"PB-48","name":"Light Cerulean Blue","color":"rgb(199, 242, 255)"},"PB-202":{"id":"PB-202","name":"Sky Blue Light","color":"rgb(130, 209, 255)"},"PB-39":{"id":"PB-39","name":"True Blue","color":"rgb(105, 212, 255)"},"PB-40":{"id":"PB-40","name":"Copenhagen Blue","color":"rgb(77, 181, 255)"},"PB-127":{"id":"PB-127","name":"Imperial Violet","color":"rgb(87, 122, 247)"},"PB-44":{"id":"PB-44","name":"Ultramarine","color":"rgb(51, 112, 250)"},"PB-42":{"id":"PB-42","name":"Violet Blue","color":"rgb(38, 81, 237)"},"PB-43":{"id":"PB-43","name":"Indigo Blue","color":"rgb(31, 62, 187)"},"PB-45":{"id":"PB-45","name":"Navy Blue","color":"rgb(6, 29, 143)"},"PB-144":{"id":"PB-144","name":"Cloud Blue","color":"rgb(214, 235, 252)"},"PB-194":{"id":"PB-194","name":"Cold Stone","color":"rgb(204, 227, 250)"},"PB-145":{"id":"PB-145","name":"Blue Slate","color":"rgb(143, 184, 252)"},"PB-146":{"id":"PB-146","name":"Periwinkle","color":"rgb(107, 161, 237)"},"PB-143":{"id":"PB-143","name":"Mediterranean Blue","color":"rgb(128, 191, 250)"},"PB-126":{"id":"PB-126","name":"Cerulean Blue","color":"rgb(128, 186, 255)"},"PB-125":{"id":"PB-125","name":"Peacock Blue","color":"rgb(44, 118, 186)"},"PB-191":{"id":"PB-191","name":"Pale Jade","color":"rgb(189, 222, 196)"},"PB-140":{"id":"PB-140","name":"Celadon Green","color":"rgb(178, 222, 194)"},"PB-185":{"id":"PB-185","name":"Spruce Green","color":"rgb(12, 48, 148)"},"PB-142":{"id":"PB-142","name":"Brittany Blue","color":"rgb(133, 186, 196)"},"PB-38":{"id":"PB-38","name":"Teal Blue","color":"rgb(82, 162, 167)"},"PB-198":{"id":"PB-198","name":"Muted Turquoise","color":"rgb(176, 230, 242)"},"PB-47":{"id":"PB-47","name":"Light Blue","color":"rgb(153, 232, 235)"},"PB-46":{"id":"PB-46","name":"Light Aqua","color":"rgb(150, 232, 222)"},"PB-37":{"id":"PB-37","name":"Aquamarine","color":"rgb(66, 199, 181)"},"PB-166":{"id":"PB-166","name":"True Green","color":"rgb(189, 250, 176)"},"PB-165":{"id":"PB-165","name":"Grass Green","color":"rgb(83, 225, 96)"},"PB-193":{"id":"PB-193","name":"Mint Cream","color":"rgb(181, 245, 135)"},"PB-167":{"id":"PB-167","name":"Apple Green","color":"rgb(161, 245, 122)"},"PB-187":{"id":"PB-187","name":"Leaf Green","color":"rgb(101, 215, 35)"},"PB-36":{"id":"PB-36","name":"Lime Green","color":"rgb(186, 240, 176)"},"PB-184":{"id":"PB-184","name":"Forest Green","color":"rgb(133, 212, 143)"},"PB-186":{"id":"PB-186","name":"Emerald","color":"rgb(47, 205, 45)"},"PB-31":{"id":"PB-31","name":"Dark Green","color":"rgb(64, 180, 55)"},"PB-195":{"id":"PB-195","name":"Spearmint","color":"rgb(37, 160, 2)"},"PB-27":{"id":"PB-27","name":"Chartreuse","color":"rgb(214, 255, 120)"},"PB-124":{"id":"PB-124","name":"Lime Peel","color":"rgb(212, 250, 94)"},"PB-192":{"id":"PB-192","name":"Avocado","color":"rgb(181, 255, 5)"},"PB-25":{"id":"PB-25","name":"Spring Green","color":"rgb(150, 247, 54)"},"PB-197":{"id":"PB-197","name":"Green Tea","color":"rgb(112, 200, 0)"},"PB-26":{"id":"PB-26","name":"Light Olive Green","color":"rgb(154, 197, 93)"},"PB-28":{"id":"PB-28","name":"Dark Olive Green","color":"rgb(76, 159, 22)"},"PB-141":{"id":"PB-141","name":"Jade Green","color":"rgb(166, 224, 204)"},"PB-212":{"id":"PB-212","name":"Pewter ","color":"rgb(209, 224, 227)"},"PB-32":{"id":"PB-32","name":"Parrot Green","color":"rgb(63, 215, 129)"},"PB-206":{"id":"PB-206","name":"Ash Grey","color":"rgb(214, 222, 209)"},"PB-203":{"id":"PB-203","name":"Driftwood","color":"rgb(219, 222, 214)"},"PB-196":{"id":"PB-196","name":"Wheat","color":"rgb(242, 245, 204)"},"PB-207":{"id":"PB-207","name":"Pale Peach","color":"rgb(245, 240, 196)"},"PB-72":{"id":"PB-72","name":"Eggshell","color":"rgb(250, 245, 214)"},"PB-96":{"id":"PB-96","name":"Blondwood","color":"rgb(250, 245, 194)"},"PB-71":{"id":"PB-71","name":"Buff","color":"rgb(235, 240, 235)"},"PB-201":{"id":"PB-201","name":"Cinnamon Toast","color":"rgb(224, 207, 158)"},"PB-214":{"id":"PB-214","name":"Cocoa Bean","color":"rgb(55, 67, 12)"},"PB-199":{"id":"PB-199","name":"Mocha Light","color":"rgb(149, 142, 81)"},"PB-204":{"id":"PB-204","name":"Taupe ","color":"rgb(147, 165, 140)"},"PB-200":{"id":"PB-200","name":"Mocha Dark","color":"rgb(62, 62, 10)"},"PB-79":{"id":"PB-79","name":"Brick White","color":"rgb(245, 242, 227)"},"PB-210":{"id":"PB-210","name":"Oatmeal","color":"rgb(212, 219, 140)"},"PB-205":{"id":"PB-205","name":"Parchment","color":"rgb(209, 219, 191)"},"PB-80":{"id":"PB-80","name":"Putty","color":"rgb(230, 222, 214)"},"PB-89":{"id":"PB-89","name":"Light Walnut","color":"rgb(217, 204, 181)"},"PB-213":{"id":"PB-213","name":"Eggplant","color":"rgb(40, 13, 26)"},"PB-95":{"id":"PB-95","name":"Light Tan","color":"rgb(187, 172, 126)"},"PB-211":{"id":"PB-211","name":"Jet Black ","color":"rgb(19, 24, 23)"},"PB-62":{"id":"PB-62","name":"Sepia","color":"rgb(117, 113, 48)"},"PB-172":{"id":"PB-172","name":"Light Umber","color":"rgb(105, 116, 58)"},"PB-88":{"id":"PB-88","name":"Dark Brown","color":"rgb(111, 117, 59)"},"PB-209":{"id":"PB-209","name":"Khaki ","color":"rgb(191, 194, 135)"},"PB-99":{"id":"PB-99","name":"Warm Grey 10%","color":"rgb(252, 252, 252)"},"PB-100":{"id":"PB-100","name":"Warm Grey 20%","color":"rgb(237, 240, 240)"},"PB-101":{"id":"PB-101","name":"Warm Grey 30%","color":"rgb(232, 232, 237)"},"PB-102":{"id":"PB-102","name":"Warm Grey 40%","color":"rgb(222, 224, 227)"},"PB-103":{"id":"PB-103","name":"Warm Grey 50%","color":"rgb(178, 186, 191)"},"PB-104":{"id":"PB-104","name":"Warm Grey 60%","color":"rgb(166, 173, 181)"},"PB-105":{"id":"PB-105","name":"Warm Grey 70%","color":"rgb(117, 127, 134)"},"PB-106":{"id":"PB-106","name":"Warm Grey 80%","color":"rgb(74, 78, 87)"},"PB-107":{"id":"PB-107","name":"Warm Grey 90%","color":"rgb(35, 36, 43)"},"PB-97":{"id":"PB-97","name":"Warm Black","color":"rgb(6, 8, 8)"},"PB-108":{"id":"PB-108","name":"Cool Grey 10%","color":"rgb(240, 244, 246)"},"PB-109":{"id":"PB-109","name":"Cool Grey 20%","color":"rgb(229, 236, 239)"},"PB-110":{"id":"PB-110","name":"Cool Grey 30%","color":"rgb(207, 220, 227)"},"PB-111":{"id":"PB-111","name":"Cool Grey 40%","color":"rgb(187, 198, 205)"},"PB-112":{"id":"PB-112","name":"Cool Grey 50%","color":"rgb(165, 176, 183)"},"PB-113":{"id":"PB-113","name":"Cool Grey 60%","color":"rgb(139, 160, 172)"},"PB-114":{"id":"PB-114","name":"Cool Grey 70%","color":"rgb(104, 128, 141)"},"PB-115":{"id":"PB-115","name":"Cool Grey 80%","color":"rgb(81, 101, 112)"},"PB-116":{"id":"PB-116","name":"Cool Grey 90%","color":"rgb(54, 70, 78)"},"PB-98":{"id":"PB-98","name":"Black","color":"rgb(6, 8, 8)"},"PB-155":{"id":"PB-155","name":"French Grey 10%","color":"rgb(245, 242, 240)"},"PB-156":{"id":"PB-156","name":"French Grey 20%","color":"rgb(232, 232, 230)"},"PB-157":{"id":"PB-157","name":"French Grey 30%","color":"rgb(204, 207, 199)"},"PB-158":{"id":"PB-158","name":"French Grey 40%","color":"rgb(181, 186, 184)"},"PB-159":{"id":"PB-159","name":"French Grey 50%","color":"rgb(164, 164, 164)"},"PB-160":{"id":"PB-160","name":"French Grey 60%","color":"rgb(147, 152, 152)"},"PB-161":{"id":"PB-161","name":"French Grey 70%","color":"rgb(117, 124, 124)"},"PB-162":{"id":"PB-162","name":"French Grey 80%","color":"rgb(76, 82, 84)"},"PB-163":{"id":"PB-163","name":"French Grey 90%","color":"rgb(39, 42, 44)"},"PB-121":{"id":"PB-121","name":"Colorless Blender","color":"rgb(255, 255, 255)"},"PB-149":{"id":"PB-149","name":"Bronze","color":"rgb(154, 169, 0)"},"PB-24":{"id":"PB-24","name":"Almond Milk","color":"rgb(251, 241, 234)"},"PB-3":{"id":"PB-3","name":"Ballet Pink Light","color":"rgb(245, 241, 234)"},"PB-9":{"id":"PB-9","name":"Blush Pink Light","color":"rgb(238, 203, 205)"},"PB-20":{"id":"PB-20","name":"Canary Yellow Light","color":"rgb(255, 246, 153)"},"PB-260":{"id":"PB-260","name":"Carmine Red Light","color":"rgb(225, 157, 148)"},"PB-undefined":{"id":"PB-undefined","name":"Deco Orange Light PB230","color":"rgb(240, 203, 167)"},"PB-233":{"id":"PB-233","name":"Deco Pink Light","color":"rgb(247, 230, 239)"},"PB-136":{"id":"PB-136","name":"Dusty Rose","color":"rgb(241, 216, 213)"},"PB-274":{"id":"PB-274","name":"Light Umber 50%","color":"rgb(203, 182, 161)"},"PB-275":{"id":"PB-275","name":"Light Umber 60%","color":"rgb(196, 173, 150)"},"PB-276":{"id":"PB-276","name":"Light Umber 70%","color":"rgb(189, 163, 138)"},"PB-273":{"id":"PB-273","name":"Light Umber 40%","color":"rgb(209, 191, 172)"},"PB-272":{"id":"PB-272","name":"Light Umber 30%","color":"rgb(222, 203, 178)"},"PB-271":{"id":"PB-271","name":"Light Umber 20%","color":"rgb(228, 213, 192)"},"PB-148":{"id":"PB-148","name":"Greyed Lavender Light","color":"rgb(226, 218, 236)"},"PB-277":{"id":"PB-277","name":"Light Umber 80%","color":"rgb(182, 155, 128)"},"PB-278":{"id":"PB-278","name":"Light Umber 90%","color":"rgb(138, 116, 85)"},"PB-173":{"id":"PB-173","name":"Lilac Light","color":"rgb(157, 150, 197)"},"PB-52":{"id":"PB-52","name":"Mulberry Light","color":"rgb(213, 173, 205)"},"PB-179":{"id":"PB-179","name":"Neon Blue","color":"rgb(19, 154, 202)"},"PB-181":{"id":"PB-181","name":"Neon Green","color":"rgb(168, 200, 96)"},"PB-175":{"id":"PB-175","name":"Neon Orange","color":"rgb(239, 194, 83)"},"PB-177":{"id":"PB-177","name":"Neon Pink","color":"rgb(195, 106, 161)"},"PB-174":{"id":"PB-174","name":"Neon Yellow","color":"rgb(252, 232, 36)"},"PB-180":{"id":"PB-180","name":"Neon Yellow Green","color":"rgb(246, 237, 99)"},"PB-216":{"id":"PB-216","name":"Neutral Grey 10%","color":"rgb(221, 220, 221)"},"PB-217":{"id":"PB-217","name":"Neutral Grey 20%","color":"rgb(196, 195, 198)"},"PB-218":{"id":"PB-218","name":"Neutral Grey 30%","color":"rgb(174, 172, 176)"},"PB-219":{"id":"PB-219","name":"Neutral Grey 40%","color":"rgb(153, 151, 157)"},"PB-220":{"id":"PB-220","name":"Neutral Grey 50%","color":"rgb(134, 132, 139)"},"PB-221":{"id":"PB-221","name":"Neutral Grey 60%","color":"rgb(116, 115, 122)"},"PB-222":{"id":"PB-222","name":"Neutral Grey 70%","color":"rgb(100, 99, 107)"},"PB-223":{"id":"PB-223","name":"Neutral Grey 80%","color":"rgb(85, 86, 93)"},"PB-224":{"id":"PB-224","name":"Neutral Grey 90%","color":"rgb(70, 73, 81)"},"PB-33":{"id":"PB-33","name":"Parrot Green Light","color":"rgb(129, 189, 181)"},"PB-280":{"id":"PB-280","name":"Pink Light","color":"rgb(224, 163, 196)"},"PB-2":{"id":"PB-2","name":"Process Red Light","color":"rgb(231, 187, 212)"},"PB-56":{"id":"PB-56","name":"Rhodamine Dark","color":"rgb(148, 36, 127)"},"PB-54":{"id":"PB-54","name":"Rhodamine Light","color":"rgb(217, 155, 191)"},"PB-81":{"id":"PB-81","name":"Turquoise Dark","color":"rgb(26, 131, 197)"},"PB-244":{"id":"PB-244","name":"Ultramarine Light","color":"rgb(138, 174, 220)"},"PB-41":{"id":"PB-41","name":"Violet Blue Light","color":"rgb(212, 176, 225)"},"PB-51":{"id":"PB-51","name":"Violet Dark","color":"rgb(63, 62, 139)"},"PB-215":{"id":"PB-215","name":"Yellow Orange Light","color":"rgb(239, 194, 83)"}}';

/**
 * Usage:
 * var link = String.format('<a href="{0}/{1}/{2}" title="{3}">{3}</a>',
 *                          url, year, titleEncoded, title);
 */
String.format = function() {
  // The string containing the format items (e.g. "{0}")
  // will and always has to be the first argument.
  var str = arguments[0];
  // Start with the second argument (i = 1).
  for (var i = 1; i < arguments.length; i++) {
    // "gm" = RegEx options for Global search (more than one instance)
    // and for Multiline search.
    var re = new RegExp('\\{' + (i - 1) + '\\}', 'gm');
    str = str.replace(re, arguments[i]);
  }
  return str;
}

var palette = JSON.parse(jsonString);
var csv = '';
for (var item in palette) {
  csv += String.format('{0}#{1}#{2}\n', palette[item].id, palette[item].name, palette[item].color);
}

fs.writeFile('./palette_' + markerType + '.csv', csv, function(err) {
  if(err) {
    return console.log(err);
  }
  console.log('Palette file saved');
}); 

